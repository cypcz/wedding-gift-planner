# Migration `20200926204034-location`

This migration has been generated by Jakub at 9/26/2020, 10:40:34 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
Begin;
CREATE TYPE "public"."GuestStatus_new" AS ENUM ('WAITING', 'ACCEPTED', 'DECLINED');
ALTER TABLE "public"."Guest" ALTER COLUMN "status" DROP DEFAULT,
                            ALTER COLUMN "status" TYPE "GuestStatus_new" USING ("status"::text::"GuestStatus_new"),
                            ALTER COLUMN "status" SET DEFAULT 'WAITING';
ALTER TYPE "GuestStatus" RENAME TO "GuestStatus_old";
ALTER TYPE "GuestStatus_new" RENAME TO "GuestStatus";
DROP TYPE "GuestStatus_old";
Commit

ALTER TABLE "public"."Wedding" ADD COLUMN "location" text   NOT NULL 
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200923190149-partner-flow..20200926204034-location
--- datamodel.dml
+++ datamodel.dml
@@ -1,6 +1,6 @@
 datasource postgresql {
-  url = "***"
+  url = "***"
   provider = "postgresql"
 }
 generator client {
@@ -18,9 +18,9 @@
 enum GuestStatus {
   WAITING
   ACCEPTED
-  REJECTED
+  DECLINED
 }
 model Guest {
   id         String      @id @default(cuid())
@@ -40,8 +40,9 @@
 model Wedding {
   id            String   @id @default(cuid())
   partner1Name  String
   partner2Name  String
+  location      String
   date          DateTime
   rsvpUntil     DateTime
   partnersEmail String?
```


