datasource postgresql {
  url = "***"
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id    String @id
  email String @unique

  guest     Guest[]
  wedding   Wedding? @relation(fields: [weddingId], references: [id])
  weddingId String?
}

enum GuestStatus {
  WAITING
  ACCEPTED
  REJECTED
}

model Guest {
  id         String      @id @default(cuid())
  firstName  String
  lastName   String
  plusX      Int         @default(0)
  plusGuests String[]
  guestLink  String
  status     GuestStatus @default(WAITING)

  wedding   Wedding @relation(fields: [weddingId], references: [id])
  weddingId String
  user      User?   @relation(fields: [userId], references: [id])
  userId    String?
}

model Wedding {
  id           String   @id @default(cuid())
  partner1Name String
  partner2Name String
  date         DateTime

  gifts  Gift[]
  guests Guest[]
  users  User[]
}

model Gift {
  id   String @id @default(cuid())
  name String

  wedding   Wedding @relation(fields: [weddingId], references: [id])
  weddingId String
}
